<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlinfos SYSTEM "../../dtd/sql-info.dtd">

<sqlinfos>
	<sqlinfo sqlid="JY8001Q001">
		<sqlname>查询仓库物资入库数量信息</sqlname>
		<sql><![CDATA[
			SELECT
			    p1.param_name putin_storehouse_name,
				t1.jy_material_id,
				sum(t1.putin_number) putin_number,
				t2.`code` material_code,
				t2.`name` material_name,
				t2.model,
				t2.supplier,
				t3.`code` material_type_code,
				t3.`name` material_type_name
			FROM
				jy_storehouse_in t0
			LEFT JOIN jy_storehouse_in_detail t1 ON t0.id = t1.jy_storehouse_in_id
			LEFT JOIN jy_material t2 ON t1.jy_material_id = t2.id
			LEFT JOIN jy_material_type t3 ON t2.jy_material_type_id = t3.id
			LEFT JOIN jy_params p1 ON t0.putin_storehouse_code = p1.param_code
			WHERE
				t0.putin_storehouse_code = $S{storehouse_code}
			AND
				(
	                $ISNULL{material_id}
	                OR t1.jy_material_id = $N{material_id}
	            )
	        AND t0.`status` = 2
			ORDER BY
				t1.jy_material_id;
		]]></sql>
	</sqlinfo>
	

	<sqlinfo sqlid="JY8001Q002">
		<sqlname>查询仓库物资出库数量信息</sqlname>
		<sql><![CDATA[
			SELECT
				t1.jy_material_id,
				sum(t1.putout_number) putout_number
			FROM
				jy_storehouse_out t0
			LEFT JOIN jy_storehouse_out_detail t1 ON t0.id = t1.jy_storehouse_out_id
			WHERE
				t0.putin_storehouse_code = $S{storehouse_code}
			AND
				(
	                $ISNULL{material_id}
	                OR t1.jy_material_id = $N{material_id}
	            )
	        AND t0.`status` = 2
			ORDER BY
				t1.jy_material_id;
		]]></sql>
	</sqlinfo>


	
</sqlinfos>